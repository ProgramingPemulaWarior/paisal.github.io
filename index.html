<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locked Page</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="loginContainer">
        <input type="password" id="password" placeholder="Enter Password">
        <button onclick="checkPassword()">Submit</button>
    </div>
    

    <div class="content" id="content" style="display: none;">

        <h1>Welcome to the protected content!</h1>

        <div class="login-container">

            <div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
                <strong>Thank You!</strong> Please SUBMIT,messege in send.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>

            <form name="programing" class="login-form">
                <div class="input-group">
                    <label for="email">Email</label>
                    <input name="email" type="email" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" name="username" name="username" required>
                </div>
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" name="password" required>
                </div>
                <button type="submit" id="submitBtn" class="btn btn-primary btn-kirim">SUBMIT</button>

                
                <p id="error-message" class="error-message"></p>
                <p id="success-message" class="success-message"></p>
                <p id="loading-message" class="loading-message" style="display: none;">Submitting...</p>
     </form>
        </div>
    
    </div>
    <script>
      function checkPassword() {
    const password = document.getElementById('password').value;
    const correctPassword = 'ArjunGanteng'; // Set your password here

    if (password === correctPassword) {
        document.getElementById('loginContainer').style.display = 'none';
        document.getElementById('content').style.display = 'block';
    } else {
        alert('Incorrect password');
    }
}

const scriptURL = 'https://script.google.com/macros/s/AKfycbx2-ITt5b7Y9puSf4Qt7O4rHiOxKUbqxEPghv8sYexASW7G936knvANCc_PCkstW6j8/exec' ;
  const form = document.forms['programing'];
  const btnKirim = document.querySelector('.btn-kirim');
  const btnLoading = document.querySelector('.btn-loading'); 
  const myAlert = document.querySelector('.my-alert');

  form.addEventListener('submit', e => {
    e.preventDefault() ;
    //ketika tombol submit diklil //
    //tampilkan tombol loading
    //hilangykan tombol kirim//
    btnLoading.classList.toggle('d-none');
    btnKirim.classList.toggle('d-none');
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => {
        btnLoading.classList.toggle('d-none');
        btnKirim.classList.toggle('d-none');

        myAlert.classList.toggle('d-none');
        form.reset();


        console.log('Success!', response)
    })
      .catch(error => console.error('Error!', error.message))
  })
</script>
</body>
</html>
